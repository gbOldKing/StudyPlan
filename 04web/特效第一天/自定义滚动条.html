
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {margin:0;padding:0;}
        .scroll {
            width: 400px;
            height: 8px;
            background-color: #ccc;
            margin: 100px;
            position: relative;
        }
        .bar {
            width: 10px;
            height: 22px;
            background-color: #369;
            position: absolute;
            top: -7px;
            left: 0;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="scroll" id="scroll">
    <div class="bar"></div>
</div>
</body>
</html>
<script>
    var scroll=document.getElementById('scroll');
    var bar=scroll.children[0];
    var leftX=0;
    bar.onmousedown= function (event) {
        var event=event || window.event;
        var disX=event.clientX-this.offsetLeft;
        var _this=this;
        document.onmousemove= function (event) {
            var devent=event || window.event;
            leftX=devent.clientX-disX;
            if(leftX<=0){
                leftX=0;
            }
            else if(leftX>scroll.offsetWidth-_this.offsetWidth){
                leftX=scroll.offsetWidth-_this.offsetWidth;
            }
            _this.style.left=leftX+'px';
        }
    }
    document.onmouseup= function () {
        document.onmousemove=null;
    }
</script>
